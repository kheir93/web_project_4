!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n=e.baseUrl,r=e.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=r}var n,r;return n=t,(r=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error ".concat(e.status))}},{key:"getAppInfo",value:function(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}},{key:"getUserInfo",value:function(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then(this._checkResponse)}},{key:"setUserInfo",value:function(e,t){return fetch(this._baseUrl+"/users/me/",{method:"PATCH",headers:this._headers,body:JSON.stringify(e,t)}).then(this._checkResponse)}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then(this._checkResponse)}},{key:"newCard",value:function(e){var t=e.title,n=e.url;return fetch(this._baseUrl+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:n})}).then(this._checkResponse)}},{key:"removeCard",value:function(e){return fetch(this._baseUrl+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then(this._checkResponse)}},{key:"addLike",value:function(e){return fetch(this._baseUrl+"/cards/likes/"+e,{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"removeLike",value:function(e){return fetch(this._baseUrl+"/cards/likes/"+e,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._defaultFormConfig=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._defaultFormConfig.inputSelector)),this._buttonElement=this._formElement.querySelector(this._defaultFormConfig.formSubmit)}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._defaultFormConfig.inputErrorClass),n.classList.add(this._defaultFormConfig.errorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._defaultFormConfig.inputErrorClass),t.classList.remove(this._defaultFormConfig.errorClass),t.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){if(!e.validity.valid)return this._showInputError(e,e.validationMessage);this._hideInputError(e)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?this.disableButton():this.enableButton()}},{key:"disableButton",value:function(){this._buttonElement.classList.add(this._defaultFormConfig.formSubmitInactive),this._buttonElement.disabled=!0}},{key:"enableButton",value:function(){this._buttonElement.classList.remove(this._defaultFormConfig.formSubmitInactive),this._buttonElement.disabled=!1}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this.resetValidation(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var e=this;this._formElement.addEventListener("reset",(function(){setTimeout((function(){e._toggleButtonState()})),e._inputList.forEach((function(t){e._hideInputError(t)}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n,r){var o=t.data,i=t.handleCardImage,a=t.cardDelete,u=t.deleteModal,c=t.likeOwner;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._likeOwner=c,this._handleCardImage=i,this._cardDelete=a,this._deleteModal=u,this._cardTemplate=n,this._cardElement=this._getTemplate(),this._userId=r,this._link=o.link,this._name=o.name,this._likes=o.likes,this._id=o._id,this._owner=o.owner,this._cardImage=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__caption"),this._cardLike=this._cardElement.querySelector(".card__like-icon"),this._deleteButton=this._cardElement.querySelector(".card__delete"),this.cardLikeActive="card__like-icon_active"}var t,n;return t=e,(n=[{key:"getId",value:function(){return this._id}},{key:"likeOwner",value:function(){var e=this;if(this._likes.some((function(t){return t._id===e._userId})))return this._cardLike.classList.add(this.cardLikeActive)}},{key:"likesCount",value:function(e){this._cardElement.querySelector(".card__like-count").textContent=e}},{key:"handleCardLike",value:function(){var e=this;this._cardLike.addEventListener("click",(function(){e._likeOwner(e.getId())}))}},{key:"isLiked",value:function(){return this._cardLike.classList.contains(this.cardLikeActive)}},{key:"_getTemplate",value:function(){return this._cardElement=document.querySelector(this._cardTemplate).content.querySelector(".card").cloneNode(!0),this._cardElement}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage.addEventListener("click",(function(){e._handleCardImage()})),this.handleCardDelete(),this.handleCardLike()}},{key:"removeCard",value:function(){this._cardElement.remove(".card")}},{key:"handleCardDelete",value:function(){var e=this;this._deleteButton.addEventListener("click",(function(t){t.preventDefault(),e._cardDelete(e.getId())}))}},{key:"generateCard",value:function(){return this._cardTitle.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=this._name,this.handleCardLike(),this.hideBin(),this.likesCount(this._likes.length),this.likeOwner(),this._setEventListeners(),this._cardElement}},{key:"addLike",value:function(){this._cardLike.classList.add(this.cardLikeActive)}},{key:"removeLike",value:function(){this._cardLike.classList.remove(this.cardLikeActive)}},{key:"hideBin",value:function(){this._owner._id!==this._userId&&(this._deleteButton=this._cardElement.querySelector(".card__delete"),this._deleteButton.style.display="none")}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscUp=this._handleEscUp.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscUp",value:function(e){if(e.preventDefault(),"Escape"===e.key)return this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){if(t.target.classList.contains("popup__close-button")||t.target.classList.contains("popup"))return e.close()}))}},{key:"open",value:function(){this._popupElement.classList.add("popup_open"),document.addEventListener("keyup",this._handleEscUp)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_open"),document.removeEventListener("keyup",this._handleEscUp)}}])&&a(t.prototype,n),e}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e,t){var n,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._handleFormSubmit=r,n._popupForm=n._popupElement.querySelector(".form"),n._inputList=n._popupElement.querySelectorAll(".form__input"),n}return t=a,(n=[{key:"loading",value:function(e,t,n){e&&(t.querySelector(".form__save").textContent=n),t.querySelector(".form__save").textContent=n}},{key:"getInputValues",value:function(){var e=this;return this._inputValues={},this._inputList.forEach((function(t){return e._inputValues[t.name]=t.value})),this._inputValues}},{key:"setEventListeners",value:function(){var e=this;this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e.getInputValues()),e.loading})),s(h(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){s(h(a.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"submitHandler",value:function(e){this._handleFormSubmit=e}}])&&l(t.prototype,n),a}(u);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._link=t._popupElement.querySelector(".place-modal__image"),t._title=t._popupElement.querySelector(".place-modal__caption"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.link,n=e.name;this._link.src=t,this._link.alt=n,this._title.textContent=n,v(k(a.prototype),"open",this).call(this)}}])&&m(t.prototype,n),a}(u);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector("".concat(n))}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&E(t.prototype,n),e}();function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){var n=t.name,r=t.about,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n,this._about=r,this._avatar=o}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{profileName:this._name.textContent,profileAbout:this._about.textContent,profileAvatar:this._avatar.src}}},{key:"setUserInfo",value:function(e,t,n){this._name.textContent=e,this._about.textContent=t,this.setUserAvatar({avatar:n})}},{key:"setUserAvatar",value:function(e){var t=e.avatar;this._avatar.src=t}}])&&L(t.prototype,n),e}(),C={popupSelector:".popup",formSelector:".form",formSubmit:".form__save",inputSelector:".form__input",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active",formSubmitInactive:"form__save_inactive"},I=(document.querySelector(".place-modal__image"),document.querySelector(".place-modal__caption"),document.querySelector(".avatar-modal")),O=document.querySelector(".edit-modal"),q=document.querySelector(".add-modal"),U=document.querySelector(".delete-modal"),j=(document.querySelector(".form__input_avatar"),document.querySelector(".form__input_name")),P=document.querySelector(".form__input_job"),A=(document.querySelector(".form__input_image"),document.querySelector(".form__input_title"),document.querySelector(".form__save"),document.querySelector(".place-modal"),document.querySelector(".profile__avatar-button")),R=document.querySelector(".profile__edit-button"),T=document.querySelector(".profile__avatar"),F=document.querySelector(".profile__name"),B=document.querySelector(".profile__about"),x=document.querySelector(".profile__add-button");function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.querySelector(".popup"),document.querySelector(".cardTemplate"),document.querySelector(".card"),document.querySelector(".card__image"),document.querySelector(".card__caption"),document.querySelector(".card__delete"),document.querySelector(".elements");var V=new t({baseUrl:"https://around.nomoreparties.co/v1/group-13",headers:{authorization:"4b9bb316-6c12-461f-86a3-76e6af7325ba","Content-Type":"application/json"}}),N=new r(C,I),H=new r(C,O),M=new r(C,q);H.enableValidation(),M.enableValidation(),N.enableValidation();var J=new w({name:F,about:B,avatar:T}),z=new p({handleFormSubmit:function(e){z.loading(!0,O,"Saving..."),V.setUserInfo({name:e.name,about:e.about}).then((function(e){J.setUserInfo(e.name,e.about,e.avatar),z.loading(!1,O,"loaded!!!"),z.close()})).catch((function(e){return console.log(e)}))}},".edit-modal"),Y=new p({handleFormSubmit:function(e){Y.loading(!0,I,"Saving..."),V.setUserAvatar({avatar:e.avatar}).then((function(e){J.setUserAvatar(e),Y.loading(!1,I,"loaded!!!"),Y.close()})).catch((function(e){return console.log(e)}))}},".avatar-modal"),$=new p({},".delete-modal");$.setEventListeners(),Y.setEventListeners(),z.setEventListeners(),A.addEventListener("click",(function(){Y.open(),Y.loading(!0,I,"Save")})),R.addEventListener("click",(function(){z.open(),z.loading(!0,O,"Save");var e=J.getUserInfo();j.value=e.profileName,P.value=e.profileAbout}));var G=new g(".place-modal");G.setEventListeners(),V.getAppInfo().then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1],u=o._id;J.setUserInfo(o.name,o.about),J.setUserAvatar(o);var c=new S({data:a,renderer:s},".elements");c.renderItems();var l=new p({handleFormSubmit:function(e){l.loading(!0,q,"Saving..."),V.newCard(e).then((function(e){s(e),l.loading(!1,q,"Saved"),l.close()})).catch((function(e){return console.log(e)}))}},".add-modal");function s(e){var t=new i({data:e,handleCardImage:function(){G.open(e)},cardDelete:function(e){$.open(),$.loading(!0,U,"Yes"),$.submitHandler((function(){$.loading(!0,U,"Deleting..."),V.removeCard(e).then((function(){t.removeCard(),$.loading(!1,U,"Deleted"),$.close()})).catch((function(e){return console.log(e)}))}))},likeOwner:function(e){t.isLiked()?V.removeLike(e).then((function(e){t.likesCount(e.likes.length),t.removeLike()})).catch((function(e){return console.log(e)})):V.addLike(e).then((function(e){t.likesCount(e.likes.length),t.addLike()})).catch((function(e){return console.log(e)}))}},"#cardTemplate",u);c.addItem(t.generateCard())}l.setEventListeners(),x.addEventListener("click",(function(){l.open(),l.loading(!0,q,"Create")}))})).catch((function(e){return console.log(e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvYXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9wb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAtd2l0aC1mb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC13aXRoLWltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsIm5hbWUiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXZhdGFyIiwidGl0bGUiLCJ1cmwiLCJsaW5rIiwiY2FyZElkIiwiZGVmYXVsdEZvcm1Db25maWciLCJmb3JtRWxlbWVudCIsIl9kZWZhdWx0Rm9ybUNvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImZvcm1TdWJtaXQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZUJ1dHRvbiIsImVuYWJsZUJ1dHRvbiIsImZvcm1TdWJtaXRJbmFjdGl2ZSIsImRpc2FibGVkIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwicmVzZXRWYWxpZGF0aW9uIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2V0VGltZW91dCIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiQ2FyZCIsImNhcmRUZW1wbGF0ZSIsInVzZXJJZCIsImRhdGEiLCJoYW5kbGVDYXJkSW1hZ2UiLCJjYXJkRGVsZXRlIiwiZGVsZXRlTW9kYWwiLCJsaWtlT3duZXIiLCJfbGlrZU93bmVyIiwiX2hhbmRsZUNhcmRJbWFnZSIsIl9jYXJkRGVsZXRlIiwiX2RlbGV0ZU1vZGFsIiwiX2NhcmRUZW1wbGF0ZSIsIl9jYXJkRWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl91c2VySWQiLCJfbGluayIsIl9uYW1lIiwiX2xpa2VzIiwibGlrZXMiLCJfaWQiLCJfb3duZXIiLCJvd25lciIsIl9jYXJkSW1hZ2UiLCJfY2FyZFRpdGxlIiwiX2NhcmRMaWtlIiwiX2RlbGV0ZUJ1dHRvbiIsImNhcmRMaWtlQWN0aXZlIiwidG90YWwiLCJnZXRJZCIsImNvbnRhaW5zIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiaGFuZGxlQ2FyZERlbGV0ZSIsImhhbmRsZUNhcmRMaWtlIiwiZSIsInNyYyIsImFsdCIsImhpZGVCaW4iLCJsaWtlc0NvdW50IiwibGVuZ3RoIiwic3R5bGUiLCJkaXNwbGF5IiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjVXAiLCJiaW5kIiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9wb3B1cEZvcm0iLCJpc0xvYWRpbmciLCJwb3B1cE1vZGFsIiwic3VibWl0QnV0dG9uVGV4dCIsIl9pbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJnZXRJbnB1dFZhbHVlcyIsImxvYWRpbmciLCJyZXNldCIsInN1Ym1pdCIsIlBvcHVwIiwiX3RpdGxlIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiVXNlckluZm8iLCJfYWJvdXQiLCJfYXZhdGFyIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlQWJvdXQiLCJwcm9maWxlQXZhdGFyIiwic2V0VXNlckF2YXRhciIsImZvcm1TZWxlY3RvciIsImF2YXRhck1vZGFsIiwiZWRpdE1vZGFsIiwiYWRkTW9kYWwiLCJpbnB1dE5hbWUiLCJpbnB1dEpvYiIsImF2YXRhckJ1dHRvbiIsImVkaXRCdXR0b24iLCJpbmZvQXZhdGFyIiwiaW5mb05hbWUiLCJpbmZvQWJvdXQiLCJhZGRCdXR0b24iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiYXZhdGFyTW9kYWxWYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiZWRpdE1vZGFsVmFsaWRhdG9yIiwiYWRkTW9kYWxWYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwidXNlckluZm8iLCJwcm9maWxlRm9ybSIsInByb2ZpbGUiLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImF2YXRhckZvcm0iLCJkZWxldGVDYXJkTW9kYWwiLCJzZXRFdmVudExpc3RlbmVycyIsIm9wZW4iLCJmaWVsZFN5bmMiLCJwb3B1cFBsYWNlIiwiUG9wdXBXaXRoSW1hZ2UiLCJnZXRBcHBJbmZvIiwiY2FyZHMiLCJwcm9maWxlSWQiLCJyZW5kZXJDYXJkIiwiY3JlYXRlQ2FyZCIsInJlbmRlckl0ZW1zIiwiY2FyZFBvcHVwIiwibmV3Q2FyZCIsInN1Ym1pdEhhbmRsZXIiLCJyZW1vdmVDYXJkIiwiaXNMaWtlZCIsInJlbW92ZUxpa2UiLCJhZGRMaWtlIiwiYWRkSXRlbSIsImdlbmVyYXRlQ2FyZCJdLCJtYXBwaW5ncyI6Im1NQUFxQkEsRSxXQUNuQixjQUFpQyxJQUFuQkMsRUFBbUIsRUFBbkJBLFFBQVNDLEVBQVUsRUFBVkEsUyw0RkFBVSxTQUMvQkMsS0FBS0MsU0FBV0gsRUFDaEJFLEtBQUtFLFNBQVdILEUsbURBR2xCLFNBQWVJLEdBQ2IsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FHSkMsUUFBUUMsT0FBUixnQkFBd0JKLEVBQUlLLFcsd0JBSXZDLFdBQ0UsT0FBT0YsUUFBUUcsSUFBSSxDQUFDVCxLQUFLVSxjQUFlVixLQUFLVyxzQix5QkFHL0MsV0FDRSxPQUFPQyxNQUFNWixLQUFLQyxTQUFXLFlBQWEsQ0FDeENGLFFBQVNDLEtBQUtFLFdBRWJXLEtBQUtiLEtBQUtjLGtCLHlCQUdmLFNBQVlDLEVBQU1DLEdBQ2hCLE9BQU9KLE1BQU1aLEtBQUtDLFNBQVcsYUFBYyxDQUN6Q2dCLE9BQVEsUUFDUmxCLFFBQVNDLEtBQUtFLFNBQ2RnQixLQUFNQyxLQUFLQyxVQUNUTCxFQUNBQyxLQUdESCxLQUFLYixLQUFLYyxrQiwyQkFHZixZQUEwQixJQUFWTyxFQUFVLEVBQVZBLE9BQ2QsT0FBT1QsTUFBTVosS0FBS0MsU0FBVyxtQkFBb0IsQ0FDL0NnQixPQUFRLFFBQ1JsQixRQUFTQyxLQUFLRSxTQUNkZ0IsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQkMsYUFHRFIsS0FBS2IsS0FBS2Msa0IsNkJBR2YsV0FDRSxPQUFPRixNQUFNWixLQUFLQyxTQUFXLFNBQVUsQ0FDckNGLFFBQVNDLEtBQUtFLFdBRWJXLEtBQUtiLEtBQUtjLGtCLHFCQUdmLFlBQXdCLElBQWRRLEVBQWMsRUFBZEEsTUFBT0MsRUFBTyxFQUFQQSxJQUNmLE9BQU9YLE1BQU1aLEtBQUtDLFNBQVcsU0FBVSxDQUNyQ0YsUUFBU0MsS0FBS0UsU0FDZGUsT0FBUSxPQUNSQyxLQUFNQyxLQUFLQyxVQUFVLENBQ25CTCxLQUFNTyxFQUNORSxLQUFNRCxNQUdQVixLQUFLYixLQUFLYyxrQix3QkFHZixTQUFXVyxHQUNULE9BQU9iLE1BQU1aLEtBQUtDLFNBQVcsVUFBWXdCLEVBQVEsQ0FDL0MxQixRQUFTQyxLQUFLRSxTQUNkZSxPQUFRLFdBRVBKLEtBQUtiLEtBQUtjLGtCLHFCQUdmLFNBQVFXLEdBQ04sT0FBT2IsTUFBTVosS0FBS0MsU0FBVyxnQkFBa0J3QixFQUFRLENBQ3JEUixPQUFRLE1BQ1JsQixRQUFTQyxLQUFLRSxXQUViVyxLQUFLYixLQUFLYyxrQix3QkFHZixTQUFXVyxHQUNULE9BQU9iLE1BQU1aLEtBQUtDLFNBQVcsZ0JBQWtCd0IsRUFBUSxDQUNyRFIsT0FBUSxTQUNSbEIsUUFBU0MsS0FBS0UsV0FFYlcsS0FBS2IsS0FBS2MscUIsZ01DTGpCLEUsV0FsRkUsV0FBWVksRUFBbUJDLEksNEZBQWEsU0FDMUMzQixLQUFLNEIsbUJBQXFCRixFQUMxQjFCLEtBQUs2QixhQUFlRixFQUNwQjNCLEtBQUs4QixXQUFhQyxNQUFNQyxLQUFLaEMsS0FBSzZCLGFBQWFJLGlCQUFpQmpDLEtBQUs0QixtQkFBbUJNLGdCQUN4RmxDLEtBQUttQyxlQUFpQm5DLEtBQUs2QixhQUFhTyxjQUFjcEMsS0FBSzRCLG1CQUFtQlMsWSxvREFHaEYsU0FBZ0JDLEVBQWNDLEdBQzVCLElBQU1DLEVBQWV4QyxLQUFLNkIsYUFBYU8sY0FBbEIsV0FBb0NFLEVBQWFHLEdBQWpELFdBQ3JCSCxFQUFhSSxVQUFVQyxJQUFJM0MsS0FBSzRCLG1CQUFtQmdCLGlCQUNuREosRUFBYUUsVUFBVUMsSUFBSTNDLEtBQUs0QixtQkFBbUJpQixZQUNuREwsRUFBYU0sWUFBY1AsSSw2QkFHN0IsU0FBZ0JELEdBQ2QsSUFBTUUsRUFBZXhDLEtBQUs2QixhQUFhTyxjQUFsQixXQUFvQ0UsRUFBYUcsR0FBakQsV0FDckJILEVBQWFJLFVBQVVLLE9BQU8vQyxLQUFLNEIsbUJBQW1CZ0IsaUJBQ3RESixFQUFhRSxVQUFVSyxPQUFPL0MsS0FBSzRCLG1CQUFtQmlCLFlBQ3RETCxFQUFhTSxZQUFjLEssOEJBRzdCLFdBQ0UsT0FBTzlDLEtBQUs4QixXQUFXa0IsTUFBSyxTQUFDVixHQUMzQixPQUFRQSxFQUFhVyxTQUFTQyxXLGlDQUlsQyxTQUFvQlosR0FDbEIsSUFBS0EsRUFBYVcsU0FBU0MsTUFDekIsT0FBT2xELEtBQUttRCxnQkFBZ0JiLEVBQWNBLEVBQWFjLG1CQUV6RHBELEtBQUtxRCxnQkFBZ0JmLEssZ0NBR3ZCLFdBQ010QyxLQUFLc0QsaUJBQWlCdEQsS0FBSzhCLFlBQzdCOUIsS0FBS3VELGdCQUVMdkQsS0FBS3dELGlCLDJCQUlULFdBQ0V4RCxLQUFLbUMsZUFBZU8sVUFBVUMsSUFBSTNDLEtBQUs0QixtQkFBbUI2QixvQkFDMUR6RCxLQUFLbUMsZUFBZXVCLFVBQVcsSSwwQkFHakMsV0FDRTFELEtBQUttQyxlQUFlTyxVQUFVSyxPQUFPL0MsS0FBSzRCLG1CQUFtQjZCLG9CQUM3RHpELEtBQUttQyxlQUFldUIsVUFBVyxJLGdDQUdqQyxXQUFxQixXQUNuQjFELEtBQUsyRCxxQkFDTDNELEtBQUs0RCxrQkFDTDVELEtBQUs4QixXQUFXK0IsU0FBUSxTQUFBdkIsR0FDdEJBLEVBQWF3QixpQkFBaUIsU0FBUyxXQUNyQyxFQUFLQyxvQkFBb0J6QixHQUN6QixFQUFLcUIsNkIsNkJBS1gsV0FBa0IsV0FDaEIzRCxLQUFLNkIsYUFBYWlDLGlCQUFpQixTQUFTLFdBQzFDRSxZQUFXLFdBQ1QsRUFBS0wsd0JBRVAsRUFBSzdCLFdBQVcrQixTQUFRLFNBQUN2QixHQUN2QixFQUFLZSxnQkFBZ0JmLFcsOEJBSzNCLFdBQ0V0QyxLQUFLNkIsYUFBYWlDLGlCQUFpQixVQUFVLFNBQVVHLEdBQ3JEQSxFQUFJQyxvQkFFTmxFLEtBQUttRSwwQixnTUNoRllDLEUsV0FDbkIsYUFBMkVDLEVBQWNDLEdBQVEsSUFBbkZDLEVBQW1GLEVBQW5GQSxLQUFNQyxFQUE2RSxFQUE3RUEsZ0JBQWlCQyxFQUE0RCxFQUE1REEsV0FBWUMsRUFBZ0QsRUFBaERBLFlBQWFDLEVBQW1DLEVBQW5DQSxXLDRGQUFtQyxTQUUvRjNFLEtBQUs0RSxXQUFhRCxFQUNsQjNFLEtBQUs2RSxpQkFBbUJMLEVBQ3hCeEUsS0FBSzhFLFlBQWNMLEVBQ25CekUsS0FBSytFLGFBQWVMLEVBQ3BCMUUsS0FBS2dGLGNBQWdCWCxFQUNyQnJFLEtBQUtpRixhQUFlakYsS0FBS2tGLGVBRXpCbEYsS0FBS21GLFFBQVViLEVBQ2Z0RSxLQUFLb0YsTUFBUWIsRUFBSy9DLEtBQ2xCeEIsS0FBS3FGLE1BQVFkLEVBQUt4RCxLQUNsQmYsS0FBS3NGLE9BQVNmLEVBQUtnQixNQUNuQnZGLEtBQUt3RixJQUFNakIsRUFBS2lCLElBQ2hCeEYsS0FBS3lGLE9BQVNsQixFQUFLbUIsTUFDbkIxRixLQUFLMkYsV0FBYTNGLEtBQUtpRixhQUFhN0MsY0FBYyxnQkFDbERwQyxLQUFLNEYsV0FBYTVGLEtBQUtpRixhQUFhN0MsY0FBYyxrQkFDbERwQyxLQUFLNkYsVUFBWTdGLEtBQUtpRixhQUFhN0MsY0FBYyxvQkFDakRwQyxLQUFLOEYsY0FBZ0I5RixLQUFLaUYsYUFBYTdDLGNBQWMsaUJBQ3JEcEMsS0FBSytGLGVBQWlCLHlCLDBDQUd4QixXQUNFLE9BQU8vRixLQUFLd0YsTSx1QkFHZCxXQUFZLFdBQ1YsR0FBSXhGLEtBQUtzRixPQUFPdEMsTUFBSyxTQUFDdUMsR0FBRCxPQUFXQSxFQUFNQyxNQUFRLEVBQUtMLFdBQ2pELE9BQU9uRixLQUFLNkYsVUFBVW5ELFVBQVVDLElBQUkzQyxLQUFLK0Ysa0Isd0JBSTdDLFNBQVdDLEdBQ1RoRyxLQUFLaUYsYUFBYTdDLGNBQWMscUJBQXFCVSxZQUFja0QsSSw0QkFHckUsV0FBaUIsV0FDZmhHLEtBQUs2RixVQUFVL0IsaUJBQWlCLFNBQVMsV0FDdkMsRUFBS2MsV0FBVyxFQUFLcUIsYyxxQkFJekIsV0FDRSxPQUFPakcsS0FBSzZGLFVBQVVuRCxVQUFVd0QsU0FBU2xHLEtBQUsrRixrQiwwQkFJaEQsV0FLRSxPQUpBL0YsS0FBS2lGLGFBQWVrQixTQUNqQi9ELGNBQWNwQyxLQUFLZ0YsZUFDbkJvQixRQUFRaEUsY0FBYyxTQUN0QmlFLFdBQVUsR0FDTnJHLEtBQUtpRixlLGdDQUlkLFdBQXFCLFdBRW5CakYsS0FBSzJGLFdBQVc3QixpQkFBaUIsU0FBUyxXQUN4QyxFQUFLZSxzQkFHUDdFLEtBQUtzRyxtQkFFTHRHLEtBQUt1RyxtQix3QkFJUCxXQUNFdkcsS0FBS2lGLGFBQWFsQyxPQUFPLFcsOEJBSTFCLFdBQW1CLFdBQ2xCL0MsS0FBSzhGLGNBQWNoQyxpQkFBaUIsU0FBUyxTQUFDMEMsR0FDNUNBLEVBQUV0QyxpQkFDRixFQUFLWSxZQUFZLEVBQUttQixjLDBCQUsxQixXQWVFLE9BZEFqRyxLQUFLNEYsV0FBVzlDLFlBQWM5QyxLQUFLcUYsTUFDbkNyRixLQUFLMkYsV0FBV2MsSUFBTXpHLEtBQUtvRixNQUMzQnBGLEtBQUsyRixXQUFXZSxJQUFNMUcsS0FBS3FGLE1BRzNCckYsS0FBS3VHLGlCQUVMdkcsS0FBSzJHLFVBRUwzRyxLQUFLNEcsV0FBVzVHLEtBQUtzRixPQUFPdUIsUUFFNUI3RyxLQUFLMkUsWUFFTDNFLEtBQUttRSxxQkFDRW5FLEtBQUtpRixlLHFCQUdkLFdBQ0VqRixLQUFLNkYsVUFBVW5ELFVBQVVDLElBQUkzQyxLQUFLK0Ysa0Isd0JBR3BDLFdBQ0UvRixLQUFLNkYsVUFBVW5ELFVBQVVLLE9BQU8vQyxLQUFLK0Ysa0IscUJBR3ZDLFdBQ00vRixLQUFLeUYsT0FBT0QsTUFBUXhGLEtBQUttRixVQUMzQm5GLEtBQUs4RixjQUFnQjlGLEtBQUtpRixhQUFhN0MsY0FBYyxpQkFDckRwQyxLQUFLOEYsY0FBY2dCLE1BQU1DLFFBQVUsYSxnTUMvRXpDLEUsV0EvQkUsV0FBWUMsSSw0RkFBZSxTQUN6QmhILEtBQUtpSCxjQUFnQmQsU0FBUy9ELGNBQWM0RSxHQUM1Q2hILEtBQUtrSCxhQUFlbEgsS0FBS2tILGFBQWFDLEtBQUtuSCxNLGlEQUc3QyxTQUFhaUUsR0FFWCxHQURBQSxFQUFJQyxpQkFDVyxXQUFaRCxFQUFJbUQsSUFDTCxPQUFPcEgsS0FBS3FILFUsK0JBSWhCLFdBQW9CLFdBQ2xCckgsS0FBS2lILGNBQWNuRCxpQkFBaUIsU0FBUyxTQUFDRyxHQUM1QyxHQUFJQSxFQUFJcUQsT0FBTzVFLFVBQVV3RCxTQUFTLHdCQUEwQmpDLEVBQUlxRCxPQUFPNUUsVUFBVXdELFNBQVMsU0FDMUYsT0FBUSxFQUFLbUIsYSxrQkFLakIsV0FDRXJILEtBQUtpSCxjQUFjdkUsVUFBVUMsSUFBSSxjQUNqQ3dELFNBQVNyQyxpQkFBaUIsUUFBUzlELEtBQUtrSCxnQixtQkFHMUMsV0FDRWxILEtBQUtpSCxjQUFjdkUsVUFBVUssT0FBTyxjQUNwQ29ELFNBQVNvQixvQkFBb0IsUUFBU3ZILEtBQUtrSCxtQix3bUNDMUIxQk0sRSx1cEJBQ25CLGFBQWtDUixHQUFlLE1BQW5DUyxFQUFtQyxFQUFuQ0EsaUJBQW1DLE8sNEZBQUEsVUFDL0MsY0FBTVQsSUFDRFUsa0JBQW9CRCxFQUN6QixFQUFLRSxXQUFhLEVBQUtWLGNBQWM3RSxjQUFjLFNBQ25ELEVBQUtOLFdBQWEsRUFBS21GLGNBQWNoRixpQkFBaUIsZ0JBSlAsRSxvQ0FRbkQsU0FBUTJGLEVBQVdDLEVBQVlDLEdBQ3pCRixJQUNGQyxFQUFXekYsY0FBYyxlQUFlVSxZQUFjZ0YsR0FFdERELEVBQVd6RixjQUFjLGVBQWVVLFlBQWNnRixJLDRCQUd4RCxXQUFpQixXQUdmLE9BRkE5SCxLQUFLK0gsYUFBZSxHQUNwQi9ILEtBQUs4QixXQUFXK0IsU0FBUSxTQUFDbUUsR0FBRCxPQUFZLEVBQUtELGFBQWFDLEVBQU1qSCxNQUFRaUgsRUFBTUMsU0FDbkVqSSxLQUFLK0gsZSwrQkFHZCxXQUFvQixXQUNsQi9ILEtBQUsySCxXQUFXN0QsaUJBQWlCLFVBQVUsU0FBQ0csR0FDMUNBLEVBQUlDLGlCQUNKLEVBQUt3RCxrQkFBa0IsRUFBS1Esa0JBQzVCLEVBQUtDLFdBRVAsd0QsbUJBR0YsV0FDRSwwQ0FDQW5JLEtBQUsySCxXQUFXUyxVLDJCQUdsQixTQUFjQyxHQUNackksS0FBSzBILGtCQUFvQlcsTyxvQkFyQ2NDLEcsa2xDQ2UzQyxFLHVwQkFkRSxXQUFZdEIsR0FBZSxhLDRGQUFBLFVBQ3pCLGNBQU1BLElBQ0Q1QixNQUFRLEVBQUs2QixjQUFjN0UsY0FBYyx1QkFDOUMsRUFBS21HLE9BQVMsRUFBS3RCLGNBQWM3RSxjQUFjLHlCQUh0QixFLGlDQU0zQixZQUFtQixJQUFiWixFQUFhLEVBQWJBLEtBQU1ULEVBQU8sRUFBUEEsS0FDVmYsS0FBS29GLE1BQU1xQixJQUFNakYsRUFDakJ4QixLQUFLb0YsTUFBTXNCLElBQU0zRixFQUNqQmYsS0FBS3VJLE9BQU96RixZQUFjL0IsRUFDMUIsOEMsb0JBWHlCdUgsRywwS0NEUkUsRSxXQUNuQixhQUFnQ0MsR0FBbUIsSUFBckNsRSxFQUFxQyxFQUFyQ0EsS0FBTW1FLEVBQStCLEVBQS9CQSxVLDRGQUErQixTQUNqRDFJLEtBQUsySSxPQUFTcEUsRUFDZHZFLEtBQUs0SSxVQUFZRixFQUNqQjFJLEtBQUs2SSxXQUFhMUMsU0FBUy9ELGNBQVQsVUFBMEJxRyxJLGdEQUc5QyxXQUFjLFdBRVp6SSxLQUFLMkksT0FBTzlFLFNBQVEsU0FBQ2lGLEdBQ25CLEVBQUtGLFVBQVVFLFEscUJBSW5CLFNBQVFDLEdBQ04vSSxLQUFLNkksV0FBV0csUUFBUUQsUSxnTUNoQlBFLEUsV0FDbkIsY0FBbUMsSUFBdEJsSSxFQUFzQixFQUF0QkEsS0FBTUMsRUFBZ0IsRUFBaEJBLE1BQU9LLEVBQVMsRUFBVEEsUSw0RkFBUyxTQUNqQ3JCLEtBQUtxRixNQUFRdEUsRUFDYmYsS0FBS2tKLE9BQVNsSSxFQUNkaEIsS0FBS21KLFFBQVU5SCxFLGdEQUdqQixXQUNFLE1BQU8sQ0FBRStILFlBQWFwSixLQUFLcUYsTUFBTXZDLFlBQWF1RyxhQUFjckosS0FBS2tKLE9BQU9wRyxZQUFhd0csY0FBZXRKLEtBQUttSixRQUFRMUMsTyx5QkFHbkgsU0FBWTFGLEVBQU1DLEVBQU9LLEdBQ3ZCckIsS0FBS3FGLE1BQU12QyxZQUFjL0IsRUFDekJmLEtBQUtrSixPQUFPcEcsWUFBYzlCLEVBQzFCaEIsS0FBS3VKLGNBQWMsQ0FBQ2xJLGEsMkJBR3RCLFlBQXdCLElBQVRBLEVBQVMsRUFBVEEsT0FDYnJCLEtBQUttSixRQUFRMUMsSUFBTXBGLE8sc0JDakJWSyxFQUFvQixDQUMvQnNGLGNBQWUsU0FDZndDLGFBQWMsUUFDZG5ILFdBQVksY0FDWkgsY0FBZSxlQUNmVSxnQkFBaUIseUJBQ2pCQyxXQUFZLDJCQUNaWSxtQkFBb0IsdUJBTVRnRyxHQUhrQnRELFNBQVMvRCxjQUFjLHVCQUNyQitELFNBQVMvRCxjQUFjLHlCQUU3QitELFNBQVMvRCxjQUFjLGtCQUNyQ3NILEVBQVl2RCxTQUFTL0QsY0FBYyxlQUNuQ3VILEVBQVd4RCxTQUFTL0QsY0FBYyxjQUNsQ3NDLEVBQWN5QixTQUFTL0QsY0FBYyxpQkFHckN3SCxHQURjekQsU0FBUy9ELGNBQWMsdUJBQ3pCK0QsU0FBUy9ELGNBQWMsc0JBQ25DeUgsRUFBVzFELFNBQVMvRCxjQUFjLG9CQU9sQzBILEdBTmEzRCxTQUFTL0QsY0FBYyxzQkFDdkIrRCxTQUFTL0QsY0FBYyxzQkFDdkIrRCxTQUFTL0QsY0FBYyxlQUV2QitELFNBQVMvRCxjQUFjLGdCQUVyQitELFNBQVMvRCxjQUFjLDRCQUN0QzJILEVBQWE1RCxTQUFTL0QsY0FBYyx5QkFDcEM0SCxFQUFhN0QsU0FBUy9ELGNBQWMsb0JBQ3BDNkgsRUFBVzlELFNBQVMvRCxjQUFjLGtCQUNsQzhILEVBQVkvRCxTQUFTL0QsY0FBYyxtQkFDbkMrSCxFQUFZaEUsU0FBUy9ELGNBQWMsd0IsMEdBRXZCK0QsU0FBUy9ELGNBQWMsVUFFcEIrRCxTQUFTL0QsY0FBYyxpQkFDeEIrRCxTQUFTL0QsY0FBYyxTQUN6QitELFNBQVMvRCxjQUFjLGdCQUN2QitELFNBQVMvRCxjQUFjLGtCQUN0QitELFNBQVMvRCxjQUFjLGlCQUV6QitELFNBQVMvRCxjQUFjLGFDbEIvQyxJQUFNZ0ksRUFBTSxJQUFJdkssRUFBSSxDQUNsQkMsUUFBUyw4Q0FDVEMsUUFBUyxDQUNQc0ssY0FBZSx1Q0FDZixlQUFnQixzQkFLZEMsRUFBdUIsSUFBSUMsRUFBYzdJLEVBQW1CK0gsR0FFNURlLEVBQXFCLElBQUlELEVBQWM3SSxFQUFtQmdJLEdBRTFEZSxFQUFvQixJQUFJRixFQUFjN0ksRUFBbUJpSSxHQUcvRGEsRUFBbUJFLG1CQUNuQkQsRUFBa0JDLG1CQUNsQkosRUFBcUJJLG1CQUdyQixJQUFNQyxFQUFXLElBQUkxQixFQUFTLENBQUVsSSxLQUFNa0osRUFBVWpKLE1BQU9rSixFQUFXN0ksT0FBUTJJLElBR3BFWSxFQUFjLElBQUlwRCxFQUFjLENBQ3BDQyxpQkFBa0IsU0FBQ29ELEdBQ2ZELEVBQVl6QyxTQUFRLEVBQU11QixFQUFXLGFBQ3JDVSxFQUFJVSxZQUFZLENBQ2QvSixLQUFNOEosRUFBUTlKLEtBQ2RDLE1BQU82SixFQUFRN0osUUFFaEJILE1BQUssU0FBQ1YsR0FDTHdLLEVBQVNHLFlBQVkzSyxFQUFJWSxLQUFNWixFQUFJYSxNQUFPYixFQUFJa0IsUUFDOUN1SixFQUFZekMsU0FBUSxFQUFPdUIsRUFBVyxhQUN0Q2tCLEVBQVl2RCxXQUViMEQsT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLFFBRTdCLGVBR0dHLEVBQWEsSUFBSTNELEVBQWMsQ0FDbkNDLGlCQUFrQixTQUFDb0QsR0FDakJNLEVBQVdoRCxTQUFRLEVBQU1zQixFQUFhLGFBQ3BDVyxFQUFJYixjQUFjLENBQ2hCbEksT0FBUXdKLEVBQVF4SixTQUVmUixNQUFLLFNBQUNWLEdBQ0x3SyxFQUFTcEIsY0FBY3BKLEdBQzNCZ0wsRUFBV2hELFNBQVEsRUFBT3NCLEVBQWEsYUFDdkMwQixFQUFXOUQsV0FFWjBELE9BQU0sU0FBQUMsR0FBRyxPQUFJQyxRQUFRQyxJQUFJRixRQUUzQixpQkFHR0ksRUFBa0IsSUFBSTVELEVBQWMsR0FBSSxpQkFFOUM0RCxFQUFnQkMsb0JBRWhCRixFQUFXRSxvQkFFWFQsRUFBWVMsb0JBR1p2QixFQUFhaEcsaUJBQWlCLFNBQVMsV0FDckNxSCxFQUFXRyxPQUNYSCxFQUFXaEQsU0FBUSxFQUFNc0IsRUFBYSxXQUl4Q00sRUFBV2pHLGlCQUFpQixTQUFTLFdBQ25DOEcsRUFBWVUsT0FDWlYsRUFBWXpDLFNBQVEsRUFBTXVCLEVBQVcsUUFDckMsSUFBTTZCLEVBQVlaLEVBQVNqSyxjQUMzQmtKLFFBQWtCMkIsRUFBVW5DLFlBQzVCUyxRQUFpQjBCLEVBQVVsQyxnQkFJN0IsSUFBTW1DLEVBQWEsSUFBSUMsRUFBZSxnQkFFdENELEVBQVdILG9CQUdYakIsRUFBSXNCLGFBQ0Q3SyxNQUFLLFlBQXNCLEksSUFBQSxHLEVBQUEsRSw0Q0FBQSxJLGd4QkFBcEJnSyxFQUFvQixLQUFYYyxFQUFXLEtBQ3BCQyxFQUFZZixFQUFRckYsSUFDMUJtRixFQUFTRyxZQUFZRCxFQUFROUosS0FBTThKLEVBQVE3SixPQUMzQzJKLEVBQVNwQixjQUFjc0IsR0FDdkIsSUFBTWdCLEVBQWEsSUFBSXJELEVBQVEsQ0FDN0JqRSxLQUFNb0gsRUFDTmpELFNBQVVvRCxHQUNULGFBRUhELEVBQVdFLGNBRVgsSUFBTUMsRUFBWSxJQUFJeEUsRUFBYyxDQUNsQ0MsaUJBQWtCLFNBQUNsRCxHQUNqQnlILEVBQVU3RCxTQUFRLEVBQU13QixFQUFVLGFBQ2xDUyxFQUFJNkIsUUFBUTFILEdBQ1QxRCxNQUFLLFNBQUNWLEdBQ0wyTCxFQUFXM0wsR0FDWDZMLEVBQVU3RCxTQUFRLEVBQU93QixFQUFVLFNBQ25DcUMsRUFBVTNFLFdBRVgwRCxPQUFNLFNBQUFDLEdBQUcsT0FBSUMsUUFBUUMsSUFBSUYsUUFFN0IsY0FTSCxTQUFTYyxFQUFXdkgsR0FDbEIsSUFBTTBILEVBQVUsSUFBSTdILEVBQUssQ0FDdkJHLE9BQ0FDLGdCQUFpQixXQUNmZ0gsRUFBV0YsS0FBSy9HLElBRWxCRSxXQUFZLFNBQUNoRCxHQUNYMkosRUFBZ0JFLE9BQ2hCRixFQUFnQmpELFNBQVEsRUFBTXpELEVBQWEsT0FDM0MwRyxFQUFnQmMsZUFBYyxXQUM1QmQsRUFBZ0JqRCxTQUFRLEVBQU16RCxFQUFhLGVBQzNDMEYsRUFBSStCLFdBQVcxSyxHQUNaWixNQUFLLFdBQ0pvTCxFQUFRRSxhQUNSZixFQUFnQmpELFNBQVEsRUFBT3pELEVBQWEsV0FDNUMwRyxFQUFnQi9ELFdBRW5CMEQsT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLFVBSTlCckcsVUFBVyxTQUFDbEQsR0FDTndLLEVBQVFHLFVBQ1ZoQyxFQUFJaUMsV0FBVzVLLEdBQ1paLE1BQUssU0FBQ1YsR0FDTDhMLEVBQVFyRixXQUFXekcsRUFBSW9GLE1BQU1zQixRQUM3Qm9GLEVBQVFJLGdCQUVUdEIsT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLE1BRTVCWixFQUFJa0MsUUFBUTdLLEdBQ1RaLE1BQUssU0FBQ1YsR0FDTDhMLEVBQVFyRixXQUFXekcsRUFBSW9GLE1BQU1zQixRQUM3Qm9GLEVBQVFLLGFBRVR2QixPQUFNLFNBQUFDLEdBQUcsT0FBSUMsUUFBUUMsSUFBSUYsUUFHL0IsZ0JBQWlCWSxHQUNwQkMsRUFBV1UsUUFBUU4sRUFBUU8sZ0JBOUM3QlIsRUFBVVgsb0JBRVZsQixtQkFBMkIsU0FBUyxXQUNsQzZCLEVBQVVWLE9BQ1ZVLEVBQVU3RCxTQUFRLEVBQU13QixFQUFVLGdCQTZDckNvQixPQUFNLFNBQUFDLEdBQUcsT0FBSUMsUUFBUUMsSUFBSUYsTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKClcbiAgICAgIC8qLnRoZW4oKHJlc3VsdCkgPT4gY29uc29sZS5sb2cocmVzdWx0KSkqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yICR7cmVzLnN0YXR1c31gKTtcbiAgICB9XG4gIH1cblxuICBnZXRBcHBJbmZvKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldEluaXRpYWxDYXJkcygpXSlcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy91c2Vycy9tZScsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL3VzZXJzL21lLycsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYWJvdXRcbiAgICAgIClcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy91c2Vycy9tZS9hdmF0YXInLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXJcbiAgICAgIH0pXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzJywge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICB9XG5cbiAgbmV3Q2FyZCh7IHRpdGxlLCB1cmwgfSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy9jYXJkcycsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogdGl0bGUsXG4gICAgICAgIGxpbms6IHVybFxuICAgICAgfSlcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxuXG4gIHJlbW92ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzLycgKyBjYXJkSWQsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXG4gIH1cblxuICBhZGRMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy9jYXJkcy9saWtlcy8nICsgY2FyZElkLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICB9XG5cbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMvbGlrZXMvJyArIGNhcmRJZCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxufVxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG5cbiAgY29uc3RydWN0b3IoZGVmYXVsdEZvcm1Db25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fZGVmYXVsdEZvcm1Db25maWcgPSBkZWZhdWx0Rm9ybUNvbmZpZyxcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50LFxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9kZWZhdWx0Rm9ybUNvbmZpZy5pbnB1dFNlbGVjdG9yKSksXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fZGVmYXVsdEZvcm1Db25maWcuZm9ybVN1Ym1pdClcbn07XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2RlZmF1bHRGb3JtQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZGVmYXVsdEZvcm1Db25maWcuZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIH07XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9kZWZhdWx0Rm9ybUNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2RlZmF1bHRGb3JtQ29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgfTtcblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9XG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVuYWJsZUJ1dHRvbigpXG4gICAgfVxuICB9O1xuXG4gIGRpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2RlZmF1bHRGb3JtQ29uZmlnLmZvcm1TdWJtaXRJbmFjdGl2ZSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBlbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2RlZmF1bHRGb3JtQ29uZmlnLmZvcm1TdWJtaXRJbmFjdGl2ZSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5yZXNldFZhbGlkYXRpb24oKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dEVsZW1lbnQgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSlcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgKCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxuICAgICAgfSlcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgaGFuZGxlQ2FyZEltYWdlLCBjYXJkRGVsZXRlLCBkZWxldGVNb2RhbCwgbGlrZU93bmVyIH0sIGNhcmRUZW1wbGF0ZSwgdXNlcklkKSB7XG5cbiAgICB0aGlzLl9saWtlT3duZXIgPSBsaWtlT3duZXIsXG4gICAgdGhpcy5faGFuZGxlQ2FyZEltYWdlID0gaGFuZGxlQ2FyZEltYWdlLFxuICAgIHRoaXMuX2NhcmREZWxldGUgPSBjYXJkRGVsZXRlLFxuICAgIHRoaXMuX2RlbGV0ZU1vZGFsID0gZGVsZXRlTW9kYWwsXG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gY2FyZFRlbXBsYXRlLFxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKSxcblxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZCxcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rLFxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWUsXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzLFxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQsXG4gICAgdGhpcy5fb3duZXIgPSBkYXRhLm93bmVyLFxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIiksXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19jYXB0aW9uXCIpLFxuICAgIHRoaXMuX2NhcmRMaWtlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWljb25cIiksXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGVcIiksXG4gICAgdGhpcy5jYXJkTGlrZUFjdGl2ZSA9IFwiY2FyZF9fbGlrZS1pY29uX2FjdGl2ZVwiXG4gIH07XG5cbiAgZ2V0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG5cbiAgbGlrZU93bmVyKCkge1xuICAgIGlmICh0aGlzLl9saWtlcy5zb21lKChsaWtlcykgPT4gbGlrZXMuX2lkID09PSB0aGlzLl91c2VySWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LmFkZCh0aGlzLmNhcmRMaWtlQWN0aXZlKVxuICAgIH1cbiAgfVxuXG4gIGxpa2VzQ291bnQodG90YWwpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRcIikudGV4dENvbnRlbnQgPSB0b3RhbDtcbiAgfVxuXG4gIGhhbmRsZUNhcmRMaWtlKCkge1xuICAgIHRoaXMuX2NhcmRMaWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9saWtlT3duZXIodGhpcy5nZXRJZCgpKVxuICAgIH0pXG4gIH1cblxuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jYXJkTGlrZUFjdGl2ZSlcbiAgfVxuXG4gIC8vVGVtcGxhdGUgc3RydWN0dXJlLy9cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRUZW1wbGF0ZSlcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKVxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudFxuICB9XG5cbiAgLy9MaXN0ZW5lcnMvL1xuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgIC8vQ2FyZCB6b29tIGhhbmRsaW5nLy9cbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRJbWFnZSgpXG4gICAgfSk7XG4gICAgLy9DYXJkIGRlbGV0ZSBoYW5kbGluZy8vXG4gICAgdGhpcy5oYW5kbGVDYXJkRGVsZXRlKCk7XG4gICAgLy9MaWtlIGJ1dHRvbiBtYW5hZ2VtZW50Ly9cbiAgICB0aGlzLmhhbmRsZUNhcmRMaWtlKClcbiAgfVxuXG4gIC8vUmVtb3ZlIGNhcmQvL1xuICByZW1vdmVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZShcIi5jYXJkXCIpXG4gIH1cblxuICAvL3BvcHVwIGNvbmZpcm1hdGlvbiBtYWRhbC8vXG4gICBoYW5kbGVDYXJkRGVsZXRlKCkge1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2NhcmREZWxldGUodGhpcy5nZXRJZCgpKVxuICAgIH0pXG4gIH1cblxuICAvL0Rpc3BsYXkgdGVtcGxhdGUvL1xuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgIC8vQ2FyZCBsaWtlIGhhbmRsaW5nLy9cbiAgICB0aGlzLmhhbmRsZUNhcmRMaWtlKCk7XG4gICAgLy9oaWRlIGJpbiBidXR0b24vL1xuICAgIHRoaXMuaGlkZUJpbigpO1xuICAgIC8vaW5jcmVhc2UgLyBkZWNyZWFzZSBsaWtlcyBjb3VudC8vXG4gICAgdGhpcy5saWtlc0NvdW50KHRoaXMuX2xpa2VzLmxlbmd0aCk7XG4gICAgLy9oaWdobGlnaHRpbmcgbXkgbGlrZXMvL1xuICAgIHRoaXMubGlrZU93bmVyKCk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudFxuICB9O1xuXG4gIGFkZExpa2UoKSB7XG4gICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LmFkZCh0aGlzLmNhcmRMaWtlQWN0aXZlKVxuICB9XG5cbiAgcmVtb3ZlTGlrZSgpIHtcbiAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY2FyZExpa2VBY3RpdmUpXG4gIH1cblxuICBoaWRlQmluKCkge1xuICAgIGlmICh0aGlzLl9vd25lci5faWQgIT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGVcIik7XG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgfVxuICB9XG59XG5cbiIsImNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjVXAgPSB0aGlzLl9oYW5kbGVFc2NVcC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2hhbmRsZUVzY1VwKGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY2xvc2UtYnV0dG9uXCIpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcbiAgICAgIHJldHVybiAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5cIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY1VwKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlblwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjVXApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL3BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgaGFuZGxlRm9ybVN1Ym1pdCB9LCBwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3RvciksXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQsXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKSxcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKVxuICB9O1xuXG4gIC8vbG9hZGluZyBzdGF0ZS8vXG5sb2FkaW5nKGlzTG9hZGluZywgcG9wdXBNb2RhbCwgc3VibWl0QnV0dG9uVGV4dCkge1xuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcG9wdXBNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3NhdmVcIikudGV4dENvbnRlbnQgPSBzdWJtaXRCdXR0b25UZXh0O1xuICB9XG4gICAgcG9wdXBNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3NhdmVcIikudGV4dENvbnRlbnQgPSBzdWJtaXRCdXR0b25UZXh0O1xufVxuXG4gIGdldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiAodGhpcy5faW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSkpO1xuICAgIHJldHVybiB0aGlzLl9pbnB1dFZhbHVlc1xuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLmdldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5sb2FkaW5nXG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpXG4gIH07XG5cbiAgc3VibWl0SGFuZGxlcihzdWJtaXQpIHtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gc3VibWl0XG4gIH1cbn07XG5cblxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL3BvcHVwLmpzXCJcblxuY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9saW5rID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2UtbW9kYWxfX2ltYWdlXCIpO1xuICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2UtbW9kYWxfX2NhcHRpb25cIik7XG4gIH1cblxuICBvcGVuKHtsaW5rLCBuYW1lfSkge1xuICAgIHRoaXMuX2xpbmsuc3JjID0gbGluaztcbiAgICB0aGlzLl9saW5rLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEltYWdlXG4iLCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBkYXRhO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtjb250YWluZXJTZWxlY3Rvcn1gKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIC8qdGhpcy5jbGVhcigpOyovXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHtuYW1lLCBhYm91dCwgYXZhdGFyfSkge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lLFxuICAgIHRoaXMuX2Fib3V0ID0gYWJvdXQsXG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyXG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4geyBwcm9maWxlTmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCwgcHJvZmlsZUFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCwgcHJvZmlsZUF2YXRhcjogdGhpcy5fYXZhdGFyLnNyY307XG4gIH1cblxuICBzZXRVc2VySW5mbyhuYW1lLCBhYm91dCwgYXZhdGFyKSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICB0aGlzLnNldFVzZXJBdmF0YXIoe2F2YXRhcn0pXG4gIH07XG5cbiAgc2V0VXNlckF2YXRhcih7YXZhdGFyfSkge1xuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XG4gIH1cbn1cbiIsIi8vZGVmYXVsdCBjb25mIGZvciBmb3JtdmFsaWRhdG9yIGxvYWQvL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRGb3JtQ29uZmlnID0ge1xuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cFwiLFxuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcbiAgZm9ybVN1Ym1pdDogXCIuZm9ybV9fc2F2ZVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxuICBmb3JtU3VibWl0SW5hY3RpdmU6IFwiZm9ybV9fc2F2ZV9pbmFjdGl2ZVwiXG59O1xuXG5leHBvcnQgY29uc3QgUGxhY2VNb2RhbEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZS1tb2RhbF9faW1hZ2VcIik7XG5leHBvcnQgY29uc3QgcGxhY2VNb2RhbENhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlLW1vZGFsX19jYXB0aW9uXCIpO1xuXG5leHBvcnQgY29uc3QgYXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF2YXRhci1tb2RhbFwiKVxuZXhwb3J0IGNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1tb2RhbFwiKTtcbmV4cG9ydCBjb25zdCBhZGRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLW1vZGFsXCIpO1xuZXhwb3J0IGNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZWxldGUtbW9kYWxcIik7XG5cbmV4cG9ydCBjb25zdCBpbnB1dEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfYXZhdGFyXCIpO1xuZXhwb3J0IGNvbnN0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBpbnB1dEpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfam9iXCIpO1xuZXhwb3J0IGNvbnN0IGlucHV0SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X2ltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IGlucHV0VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3RpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IGZvcm1TdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3NhdmVcIik7XG5cbmV4cG9ydCBjb25zdCBwbGFjZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZS1tb2RhbFwiKTtcblxuZXhwb3J0IGNvbnN0IGF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBpbmZvQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XG5leHBvcnQgY29uc3QgaW5mb05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5leHBvcnQgY29uc3QgaW5mb0Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hYm91dFwiKTtcbmV4cG9ydCBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5cbmV4cG9ydCBjb25zdCBwb3B1cE1hcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwXCIpXG5cbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRUZW1wbGF0ZVwiKTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBjYXJkSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fY2FwdGlvblwiKTtcbmV4cG9ydCBjb25zdCBjYXJkRGVsZXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGVcIik7XG5cbmV4cG9ydCBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5cblxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvYXBpLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC13aXRoLWZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC13aXRoLWltYWdlLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7XG4gIGRlZmF1bHRGb3JtQ29uZmlnLFxuICBlZGl0TW9kYWwsXG4gIGF2YXRhckJ1dHRvbixcbiAgZWRpdEJ1dHRvbixcbiAgaW5mb0F2YXRhcixcbiAgYWRkTW9kYWwsXG4gIGFkZEJ1dHRvbixcbiAgYXZhdGFyTW9kYWwsXG4gIGRlbGV0ZU1vZGFsLFxuICBpbmZvTmFtZSxcbiAgaW5mb0Fib3V0LFxuICBpbnB1dEpvYixcbiAgaW5wdXROYW1lXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy9BVEhFTlRJQ0FUSU9OLy9cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiAnaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMycsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjRiOWJiMzE2LTZjMTItNDYxZi04NmEzLTc2ZTZhZjczMjViYVwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gIH1cbn0pO1xuXG4vL2F2YXRhciBmb3JtIGZpZWxkIHZhbGlkYXRpb24gaGFuZGxpbmcvL1xuY29uc3QgYXZhdGFyTW9kYWxWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihkZWZhdWx0Rm9ybUNvbmZpZywgYXZhdGFyTW9kYWwpO1xuLy9wcm9maWxlIGZvcm0gZmllbGRzIHZhbGlkYXRpb24gaGFuZGxpbmcvL1xuY29uc3QgZWRpdE1vZGFsVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZGVmYXVsdEZvcm1Db25maWcsIGVkaXRNb2RhbCk7XG4vL2NhcmQgZm9ybSBmaWVsZHMgdmFsaWRhdGlvbiBoYW5kbGluZy8vXG5jb25zdCBhZGRNb2RhbFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGRlZmF1bHRGb3JtQ29uZmlnLCBhZGRNb2RhbCk7XG5cbi8vZm9ybXMgdmFsaWRhdGlvbiBjaGVjay8vXG5lZGl0TW9kYWxWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkTW9kYWxWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYXZhdGFyTW9kYWxWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vL3Byb2ZpbGUgbWF0Y2gvL1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oeyBuYW1lOiBpbmZvTmFtZSwgYWJvdXQ6IGluZm9BYm91dCwgYXZhdGFyOiBpbmZvQXZhdGFyIH0pXG5cbi8vZWRpdCBtb2RhbCB1c2VyIGRhdGEvL1xuY29uc3QgcHJvZmlsZUZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChwcm9maWxlKSA9PiB7XG4gICAgICBwcm9maWxlRm9ybS5sb2FkaW5nKHRydWUsIGVkaXRNb2RhbCwgXCJTYXZpbmcuLi5cIilcbiAgICAgIGFwaS5zZXRVc2VySW5mbyh7XG4gICAgICAgIG5hbWU6IHByb2ZpbGUubmFtZSxcbiAgICAgICAgYWJvdXQ6IHByb2ZpbGUuYWJvdXQsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzLm5hbWUsIHJlcy5hYm91dCwgcmVzLmF2YXRhcik7XG4gICAgICAgIHByb2ZpbGVGb3JtLmxvYWRpbmcoZmFsc2UsIGVkaXRNb2RhbCwgXCJsb2FkZWQhISFcIik7XG4gICAgICAgIHByb2ZpbGVGb3JtLmNsb3NlKClcbiAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxufSwgXCIuZWRpdC1tb2RhbFwiKVxuXG4vL3BvcHVwIGF2YXRhciBkYXRhLy9cbmNvbnN0IGF2YXRhckZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChwcm9maWxlKSA9PiB7XG4gICAgYXZhdGFyRm9ybS5sb2FkaW5nKHRydWUsIGF2YXRhck1vZGFsLCBcIlNhdmluZy4uLlwiKVxuICAgICAgYXBpLnNldFVzZXJBdmF0YXIoe1xuICAgICAgICBhdmF0YXI6IHByb2ZpbGUuYXZhdGFyXG4gICAgICB9KVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcihyZXMpXG4gICAgICBhdmF0YXJGb3JtLmxvYWRpbmcoZmFsc2UsIGF2YXRhck1vZGFsLCBcImxvYWRlZCEhIVwiKTtcbiAgICAgIGF2YXRhckZvcm0uY2xvc2UoKVxuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxufSwgXCIuYXZhdGFyLW1vZGFsXCIpXG5cbi8vcG9wdXAgZGVsZXRlIHdpbmRvdy8vXG5jb25zdCBkZWxldGVDYXJkTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSh7fSwgXCIuZGVsZXRlLW1vZGFsXCIpXG5cbmRlbGV0ZUNhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5hdmF0YXJGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbnByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vYXZhdGFyIGZvcm0vL1xuYXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGF2YXRhckZvcm0ub3BlbigpO1xuICBhdmF0YXJGb3JtLmxvYWRpbmcodHJ1ZSwgYXZhdGFyTW9kYWwsIFwiU2F2ZVwiKVxufSlcblxuLy9lZGl0IHByb2ZpbGUgZm9ybS8vXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PntcbiAgcHJvZmlsZUZvcm0ub3BlbigpXG4gIHByb2ZpbGVGb3JtLmxvYWRpbmcodHJ1ZSwgZWRpdE1vZGFsLCBcIlNhdmVcIilcbiAgY29uc3QgZmllbGRTeW5jID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXROYW1lLnZhbHVlID0gZmllbGRTeW5jLnByb2ZpbGVOYW1lO1xuICBpbnB1dEpvYi52YWx1ZSA9IGZpZWxkU3luYy5wcm9maWxlQWJvdXQ7XG59KVxuXG4vL2NhcmQgem9vbS8vXG5jb25zdCBwb3B1cFBsYWNlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBsYWNlLW1vZGFsXCIpO1xuXG5wb3B1cFBsYWNlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vY2FyZCB0ZW1wbGF0ZS8vXG5hcGkuZ2V0QXBwSW5mbygpXG4gIC50aGVuKChbcHJvZmlsZSwgY2FyZHNdKSA9PiB7XG4gICAgY29uc3QgcHJvZmlsZUlkID0gcHJvZmlsZS5faWQ7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8ocHJvZmlsZS5uYW1lLCBwcm9maWxlLmFib3V0KTtcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHByb2ZpbGUpO1xuICAgIGNvbnN0IHJlbmRlckNhcmQgPSBuZXcgU2VjdGlvbih7XG4gICAgICBkYXRhOiBjYXJkcyxcbiAgICAgIHJlbmRlcmVyOiBjcmVhdGVDYXJkXG4gICAgfSwgXCIuZWxlbWVudHNcIilcblxuICAgIHJlbmRlckNhcmQucmVuZGVySXRlbXMoKTtcblxuICAgIGNvbnN0IGNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgICAgIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgICAgIGNhcmRQb3B1cC5sb2FkaW5nKHRydWUsIGFkZE1vZGFsLCAnU2F2aW5nLi4uJyk7XG4gICAgICAgIGFwaS5uZXdDYXJkKGRhdGEpXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgY3JlYXRlQ2FyZChyZXMpLFxuICAgICAgICAgICAgY2FyZFBvcHVwLmxvYWRpbmcoZmFsc2UsIGFkZE1vZGFsLCAnU2F2ZWQnKSxcbiAgICAgICAgICAgIGNhcmRQb3B1cC5jbG9zZSgpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgICAgfVxuICAgIH0sIFwiLmFkZC1tb2RhbFwiKVxuXG4gICAgY2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNhcmRQb3B1cC5vcGVuKCk7XG4gICAgICBjYXJkUG9wdXAubG9hZGluZyh0cnVlLCBhZGRNb2RhbCwgXCJDcmVhdGVcIik7XG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuICAgICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKHtcbiAgICAgICAgZGF0YSxcbiAgICAgICAgaGFuZGxlQ2FyZEltYWdlOiAoKSA9PiB7XG4gICAgICAgICAgcG9wdXBQbGFjZS5vcGVuKGRhdGEpO1xuICAgICAgICB9LFxuICAgICAgICBjYXJkRGVsZXRlOiAoY2FyZElkKSA9PiB7XG4gICAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLm9wZW4oKTtcbiAgICAgICAgICBkZWxldGVDYXJkTW9kYWwubG9hZGluZyh0cnVlLCBkZWxldGVNb2RhbCwgXCJZZXNcIik7XG4gICAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLnN1Ym1pdEhhbmRsZXIoKCkgPT4ge1xuICAgICAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLmxvYWRpbmcodHJ1ZSwgZGVsZXRlTW9kYWwsIFwiRGVsZXRpbmcuLi5cIik7XG4gICAgICAgICAgICBhcGkucmVtb3ZlQ2FyZChjYXJkSWQpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBuZXdDYXJkLnJlbW92ZUNhcmQoKTtcbiAgICAgICAgICAgICAgICBkZWxldGVDYXJkTW9kYWwubG9hZGluZyhmYWxzZSwgZGVsZXRlTW9kYWwsIFwiRGVsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICBkZWxldGVDYXJkTW9kYWwuY2xvc2UoKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG5cbiAgICAgICAgbGlrZU93bmVyOiAoY2FyZElkKSA9PiB7XG4gICAgICAgICAgaWYgKG5ld0NhcmQuaXNMaWtlZCgpKSB7XG4gICAgICAgICAgICBhcGkucmVtb3ZlTGlrZShjYXJkSWQpXG4gICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBuZXdDYXJkLmxpa2VzQ291bnQocmVzLmxpa2VzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbmV3Q2FyZC5yZW1vdmVMaWtlKClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcGkuYWRkTGlrZShjYXJkSWQpXG4gICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBuZXdDYXJkLmxpa2VzQ291bnQocmVzLmxpa2VzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbmV3Q2FyZC5hZGRMaWtlKClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgXCIjY2FyZFRlbXBsYXRlXCIsIHByb2ZpbGVJZCk7XG4gICAgICByZW5kZXJDYXJkLmFkZEl0ZW0obmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKSlcbiAgICB9O1xuICB9KVxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==